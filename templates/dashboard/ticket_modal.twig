{# templates/dashboard/TicketModal.twig #}

<div class="fixed inset-0 bg-black/40 flex justify-center items-center z-50 p-4">
  <div class="bg-white rounded-xl shadow-lg w-full max-w-lg p-6">
    <h2 class="text-xl font-semibold mb-4 text-gray-800">
      {{ editing ? 'Update Ticket' : 'Create New Ticket' }}
    </h2>
    
    <form id="ticketForm" class="space-y-4">
      <div>
        <label class="block text-gray-700 mb-1">Title</label>
        <input 
          id="title"
          value="{{ form.title|default('') }}"
          type="text" 
          placeholder="Enter ticket title"
          class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"
        />
        <p id="titleError" class="text-red-500 text-sm">{{ errors.title|default('') }}</p>
      </div>

      <div>
        <label class="block text-gray-700 mb-1">Description</label>
        <textarea 
          id="description"
          placeholder="Describe the issue..."
          class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"
        >{{ form.description|default('') }}</textarea>
      </div>

      <div>
        <label class="block text-gray-700 mb-1">Status</label>
        <select 
          id="status"
          class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-300"
        >
          <option value="">Select status</option>
          <option value="open" {% if form.status=='open' %}selected{% endif %}>Open</option>
          <option value="in_progress" {% if form.status=='in_progress' %}selected{% endif %}>In Progress</option>
          <option value="closed" {% if form.status=='closed' %}selected{% endif %}>Closed</option>
        </select>
        <p id="statusError" class="text-red-500 text-sm">{{ errors.status|default('') }}</p>
      </div>

      <div class="flex justify-end gap-3 mt-6">
        <button 
          type="button"
          onclick="{{ onClose|default('') }}"
          class="px-4 py-2 border rounded-lg hover:bg-gray-100">
          Cancel
        </button>
        <button 
          type="submit"
          onclick="{{ onSave|default('') }}"
          class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
          Save
        </button>
      </div>
    </form>
  </div>
</div>